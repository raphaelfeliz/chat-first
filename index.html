<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <title>Chat App (POC, interactive options)</title>
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <!-- Tailwind CSS -->
  <link href="https://cdn.jsdelivr.net/npm/tailwindcss@2.2.19/dist/tailwind.min.css" rel="stylesheet" />
  <style>
    /* Hide scrollbar in chat area */
    #bubble-area {
      scrollbar-width: none;          /* Firefox */
      -ms-overflow-style: none;     /* IE/Edge */
    }
    #bubble-area::-webkit-scrollbar {
      display: none;              /* Chrome/Safari/Opera */
    }
  </style>
</head>
<body class="bg-gray-100 flex flex-col h-screen font-sans">

  <div class="flex flex-1 overflow-hidden">
    <!-- Left: Product Selection / Options -->
    <section class="w-1/2 p-4 border-r border-gray-200 overflow-y-auto bg-gray-50">
      <div class="mb-4"> <!-- Increased margin-bottom -->
        <h2 class="text-2xl font-bold">Products</h2>
        <!-- Current facet question will render here -->
        <p id="facet-question" class="text-lg text-gray-700 mt-1"></p> <!-- Made text larger -->
      </div>

      <!-- 
        This grid is now dynamic. 
        It will be filled with clickable "option" cards or the final "product" card.
      -->
      <div id="option-grid" class="grid grid-cols-1 md:grid-cols-2 gap-4">
        <!-- JS will populate this. -->
      </div>
    </section>

    <!-- Right: Chat Interface -->
    <section class="w-1/2 flex flex-col bg-white shadow-inner">
      <!-- Header -->
      <header class="p-4 bg-white border-b border-gray-200">
        <h2 class="text-xl font-bold">Support Chat</h2>
        <p id="chat-id-display" class="text-xs text-gray-500">Connecting...</p>
      </header>

      <!-- Message Area -->
      <main id="bubble-area" class="flex-1 overflow-y-auto p-4 space-y-4 bg-gray-50">
        <!-- Chat messages will be appended here -->
      </main>

      <!-- Input Area -->
      <form id="input-area" class="flex p-4 bg-white border-t border-gray-200">
        <input
          type="text"
          id="chat-input"
          class="flex-1 p-3 border rounded-l-lg focus:outline-none focus:ring-2 focus:ring-blue-500"
          placeholder="Type your message..."
          autocomplete="off"
        />
        <button
          type="submit"
          class="bg-blue-600 text-white p-3 rounded-r-lg hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-blue-500"
          aria-label="Send message"
          title="Send"
        >
          <!-- Send Icon -->
          <svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6" fill="none" viewBox="0 0 24 24" stroke="currentColor">
            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 13l4 4L19 7" />
          </svg>
        </button>
      </form>
    </section>
  </div>

  <!-- Firebase SDK (v8) -->
  <script src="https://www.gstatic.com/firebasejs/8.10.1/firebase-app.js"></script>
  <script src="https://www.gstatic.com/firebasejs/8.10.1/firebase-firestore.js"></script>

  <!-- 
    Main Application Logic (chat) 
    This file would connect to Firebase and use `window.ConfigEngine`
  -->
  <script type="module" src="src/main.js"></script>

  <!-- Configurator Engine -->
  <script type="module" src="src/core/engine/configuratorEngine.js"></script>
</body>
</html>
